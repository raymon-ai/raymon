<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Slices" href="slices.html" /><link rel="prev" title="Traces and Tags" href="logging_tracing.html" />

    <link rel="shortcut icon" href="../_static/favicon.ico"/><meta name="generator" content="sphinx-3.5.4, furo 2021.04.11.beta34"/>
        <title>Model &amp; Data Profiling - Raymon 0.0.30 documentation</title>
      <link rel="stylesheet" href="../_static/styles/furo.css?digest=59ab60ac09ea94ccfe6deddff6d715cce948a6fc">
    <link rel="stylesheet" href="../_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="../_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" href="../_static/styles/furo-extensions.css?digest=d391b54134226e4196576da3bdb6dddb7e05ba2b"></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Raymon 0.0.30 documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/logo-blue-ai.png" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install_deploy.html">Installation, Deployment and Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="apisetup.html">Using the API</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging_tracing.html">Traces and Tags</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Model &amp; Data Profiling</a></li>
<li class="toctree-l1"><a class="reference internal" href="slices.html">Slices</a></li>
<li class="toctree-l1"><a class="reference internal" href="orchestration.html">Backend Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="uiwalkthrough.html">UI Overview</a></li>
</ul>
<p class="caption"><span class="caption-text">Module Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../module/api.html">RaymonAPI class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module/traces.html">Trace class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module/tags.html">Tag class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module/loggers.html">Loggers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module/types.html">Data Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module/modelprofile.html">ModelProfile</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module/components.html">Component</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module/stats.html">Stats</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="model-data-profiling">
<h1>Model &amp; Data Profiling<a class="headerlink" href="#model-data-profiling" title="Permalink to this headline">¶</a></h1>
<p>One of the primary functionalities of Raymon is to help you validate incoming data, monitor production data quality and be able to find valuable data easily. This is mainly done using the <a class="reference internal" href="../module/modelprofile.html#raymon.ModelProfile" title="raymon.ModelProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.ModelProfile</span></code></a> class, which does so by generating tags that can be pushed to the backend.</p>
<p>In short, Raymon analyses your data at training time and builds a data profile that can be sent to the backend and loaded in your production code. You can use the profile to validate incoming data, model predictions and model actuals, as well as to score model predictions. This will generate tags that are pushed to the backend. The backend will then use those tags to monitor data quality and trigger alerts when appropriate.</p>
<div class="section" id="concepts-profiles-components-extractors-stats-and-reducers">
<h2>Concepts: Profiles, Components, Extractors, Stats and Reducers<a class="headerlink" href="#concepts-profiles-components-extractors-stats-and-reducers" title="Permalink to this headline">¶</a></h2>
<p>Raymon helps you capture data characteristics of your models inputs, outputs, actuals and output-actual evaluations using the <a class="reference internal" href="../module/modelprofile.html#raymon.ModelProfile" title="raymon.ModelProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.ModelProfile</span></code></a> class.</p>
<div class="section" id="profile">
<h3>Profile<a class="headerlink" href="#profile" title="Permalink to this headline">¶</a></h3>
<p>A <a class="reference internal" href="../module/modelprofile.html#raymon.ModelProfile" title="raymon.ModelProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.ModelProfile</span></code></a> is the main entry point for data profiling in Raymon. It’s an object that has a name and a version, and holds a list of <code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.profiling.Component</span></code> objects and a list of <code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.profiling.Reducer</span></code> objects, both are which are further explained below.</p>
<p>Raymon currently has one type of profile: the <a class="reference internal" href="../module/modelprofile.html#raymon.ModelProfile" title="raymon.ModelProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.ModelProfile</span></code></a> class. This class can be used to validate and score all data relevant to ML models (its inputs, outputs, actuals and output-actual evaluations) and can auto-configure the Raymon backend for model &amp; data monitoring.</p>
</div>
<div class="section" id="profile-components">
<h3>Profile Components<a class="headerlink" href="#profile-components" title="Permalink to this headline">¶</a></h3>
<p>A profile component is responsible for extracting a feature from the data it is given and to distill statistics about that extracted feature. The extraction of the feature is delegated to its <code class="code docutils literal notranslate"><span class="pre">extractor</span></code> property, the distillation of stats to its <code class="code docutils literal notranslate"><span class="pre">stats</span></code> property. When validating data, the extracted feature will be returned as a :raymon.Tag: object with the component’s <code class="code docutils literal notranslate"><span class="pre">name</span></code> as tag <code class="code docutils literal notranslate"><span class="pre">name</span></code> and the feature value as tag <code class="code docutils literal notranslate"><span class="pre">value</span></code>.</p>
<p>A component can be one of 4 types.</p>
<div class="table-wrapper"><table class="colwidths-given docutils align-default" id="id5">
<caption><span class="caption-text">Component types and their function</span><a class="headerlink" href="#id5" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%"/>
<col style="width: 75%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Component Type</p></th>
<th class="head"><p>Function</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="../module/components.html#raymon.InputComponent" title="raymon.InputComponent"><code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.InputComponent</span></code></a></p></td>
<td><p>Used for capturing input data characteristics.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../module/components.html#raymon.OutputComponent" title="raymon.OutputComponent"><code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.OutputComponent</span></code></a></p></td>
<td><p>Used for capturing output data characteristics.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../module/components.html#raymon.ActualComponent" title="raymon.ActualComponent"><code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.ActualComponent</span></code></a></p></td>
<td><p>Used for capturing actual (ground truth) data characteristics.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../module/components.html#raymon.EvalComponent" title="raymon.EvalComponent"><code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.EvalComponent</span></code></a></p></td>
<td><p>Used for capturing characteristics that depend on both outputs and actuals, like model performance scores.</p></td>
</tr>
</tbody>
</table></div>
</div>
<div class="section" id="component-extractors">
<h3>Component Extractors<a class="headerlink" href="#component-extractors" title="Permalink to this headline">¶</a></h3>
<p>Extractors take in a datum and extract a feature from it. Raymon provides some out-of-the-box extractors, but you can easily plug in your own by implementing the <code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.SimpleExtractor</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.EvalExtractor</span></code> interface. Extractors convert your data (image, Pandas Series, …) to single value (a tag) that Raymon will track. Since extractors only need to run in your code, and not on the raymon backend, Raymon can support any data type.</p>
<p>Extractors of <code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.SimpleExtractor</span></code> are suited for components of type <code class="xref py py-class docutils literal notranslate"><span class="pre">InputComponent</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">OutputComponent</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">ActualComponent</span></code> and have a single value as input (i.e., the models, input, output or actual). Extractors of <code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.EvalExtractor</span></code> are only suited for components of type <a class="reference internal" href="../module/components.html#raymon.EvalComponent" title="raymon.EvalComponent"><code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.EvalComponent</span></code></a> and take in 2 arguments: the model output and the actual.</p>
<p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.SimpleExtractor</span></code> can for example extract a specific dimension of a vector, the sharpness of an image or some anomaly score for a given datum. A <code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.EvalExtractor</span></code> could for example calculate the absolute error of a given prediction and actual.</p>
</div>
<div class="section" id="component-stats">
<h3>Component Stats<a class="headerlink" href="#component-stats" title="Permalink to this headline">¶</a></h3>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.Stats</span></code> objects are responsible for storing statistics about extracted features. For numeric components, <a class="reference internal" href="../module/stats.html#raymon.IntStats" title="raymon.IntStats"><code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.IntStats</span></code></a> and <a class="reference internal" href="../module/stats.html#raymon.FloatStats" title="raymon.FloatStats"><code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.FloatStats</span></code></a> track the min, max, mean, std, distribution and amount of invalid values seen during building. For categoric components, <a class="reference internal" href="../module/stats.html#raymon.CategoricStats" title="raymon.CategoricStats"><code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.CategoricStats</span></code></a> tracks the value frequencies and amount of invalid values.
Depending on the type (<code class="code docutils literal notranslate"><span class="pre">int</span></code>, <code class="code docutils literal notranslate"><span class="pre">float</span></code> or <code class="code docutils literal notranslate"><span class="pre">str</span></code>) a component’s extractor returns, the component’s stats need to be of the equivalent type (<a class="reference internal" href="../module/stats.html#raymon.IntStats" title="raymon.IntStats"><code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.IntStats</span></code></a>, <a class="reference internal" href="../module/stats.html#raymon.FloatStats" title="raymon.FloatStats"><code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.FloatStats</span></code></a> or <a class="reference internal" href="../module/stats.html#raymon.CategoricStats" title="raymon.CategoricStats"><code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.CategoricStats</span></code></a>.</p>
</div>
<div class="section" id="reducers">
<h3>Reducers<a class="headerlink" href="#reducers" title="Permalink to this headline">¶</a></h3>
<p>Reducers take in extracted features and reduce those to one or a fixed amount of scores. For example, a reducer could reduce all absolute errors of a given dataset into the mean absolute error, or could calculate a precision and recall score.</p>
<p>A reducer is of type <code class="xref py py-class docutils literal notranslate"><span class="pre">raymon.Reducer</span></code> and needs a <code class="code docutils literal notranslate"><span class="pre">name</span></code>, <code class="code docutils literal notranslate"><span class="pre">inputs</span></code> and <code class="code docutils literal notranslate"><span class="pre">preferences</span></code> as initialization parameters. <code class="code docutils literal notranslate"><span class="pre">inputs</span></code> designate the tags that the reducer should take as input,  <code class="code docutils literal notranslate"><span class="pre">preferences</span></code> indicate whether the value should be high or low for every output. For example, when reducing the <code class="code docutils literal notranslate"><span class="pre">absolute_error</span></code> tag to the mean absolute error, the preference should be <code class="code docutils literal notranslate"><span class="pre">low</span></code>, since a low error is better. When reducing a precision and recall score, the preference should be <code class="code docutils literal notranslate"><span class="pre">high</span></code> for both outputs, since a higher score is better.</p>
<p>Reducers may seem cumbersome at first, but their main goal is to auto-configure the Raymon backend when a model profile is uploaded.</p>
</div>
</div>
<div class="section" id="building-profiles">
<h2>Building profiles<a class="headerlink" href="#building-profiles" title="Permalink to this headline">¶</a></h2>
<p>Defining a model profile is done by first defining its structure and then building it with some data.</p>
<p>The code snippet below illustrates for to build a <code class="code docutils literal notranslate"><span class="pre">ModelProfile</span></code> based on a <code class="code docutils literal notranslate"><span class="pre">DataFrame</span></code>. As can be seen, the profile tracks all the model’s inputs, outputs, actuals and scores (evaluations). It also reduces the absolute error to the mean absolute error.</p>
<p>Note the use of the <code class="xref py py-meth docutils literal notranslate"><span class="pre">raymon.profiling.extractors.structured.generate_components()</span></code> function on line 11. This method generates a component for every column in the input DataFrame.</p>
<div class="highlight-python notranslate"><div class="table-wrapper"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">raymon.profiling</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">ModelProfile</span><span class="p">,</span>
    <span class="n">InputComponent</span><span class="p">,</span>
    <span class="n">OutputComponent</span><span class="p">,</span>
    <span class="n">ActualComponent</span><span class="p">,</span>
    <span class="n">EvalComponent</span><span class="p">,</span>
    <span class="n">MeanReducer</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">raymon.profiling.extractors.structured</span> <span class="kn">import</span> <span class="n">generate_components</span><span class="p">,</span> <span class="n">ElementExtractor</span>

<span class="n">components</span> <span class="o">=</span> <span class="n">generate_components</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">dtypes</span><span class="p">,</span> <span class="n">compclass</span><span class="o">=</span><span class="n">InputComponent</span><span class="p">)</span> <span class="o">+</span> <span class="p">[</span>
    <span class="n">OutputComponent</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"prediction"</span><span class="p">,</span> <span class="n">extractor</span><span class="o">=</span><span class="n">ElementExtractor</span><span class="p">(</span><span class="n">element</span><span class="o">=</span><span class="mi">0</span><span class="p">)),</span>
    <span class="n">ActualComponent</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"actual"</span><span class="p">,</span> <span class="n">extractor</span><span class="o">=</span><span class="n">ElementExtractor</span><span class="p">(</span><span class="n">element</span><span class="o">=</span><span class="mi">0</span><span class="p">)),</span>
    <span class="n">EvalComponent</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"abs_error"</span><span class="p">,</span> <span class="n">extractor</span><span class="o">=</span><span class="n">AbsoluteRegressionError</span><span class="p">()),</span>
<span class="p">]</span>
<span class="n">reducers</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">MeanReducer</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">"MAE"</span><span class="p">,</span>
        <span class="n">inputs</span><span class="o">=</span><span class="p">[</span><span class="s2">"abs_error"</span><span class="p">],</span>
        <span class="n">preferences</span><span class="o">=</span><span class="p">{</span><span class="s2">"mean"</span><span class="p">:</span> <span class="s2">"low"</span><span class="p">},</span>
        <span class="n">results</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">]</span>

<span class="n">profile</span> <span class="o">=</span> <span class="n">ModelProfile</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">"HousePricesCheap"</span><span class="p">,</span>
    <span class="n">version</span><span class="o">=</span><span class="s2">"2.0.0"</span><span class="p">,</span>
    <span class="n">components</span><span class="o">=</span><span class="n">components</span><span class="p">,</span>
    <span class="n">reducers</span><span class="o">=</span><span class="n">reducers</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">profile</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">X</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">y_pred</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="p">:],</span> <span class="n">actual</span><span class="o">=</span><span class="n">y_test</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="p">:])</span>
<span class="n">profile</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">ROOT</span> <span class="o">/</span> <span class="s2">"models"</span><span class="p">)</span>
</pre></div>
</td></tr></table></div></div>
<p>More examples of building profiles can be found in the basic examples <a class="reference external" href="https://github.com/raymon-ai/raymon/blob/master/examples/1-building_structured.ipynb">here (structured)</a> and <a class="reference external" href="https://github.com/raymon-ai/raymon/blob/master/examples/2-building_cv.ipynb">here (vision)</a> and in full <a class="reference external" href="https://github.com/raymon-ai/examples">demonstrator code</a> <a class="reference external" href="https://github.com/raymon-ai/demonstrators/blob/master/houseprices/houseprices/train_model.py#L174-L197">here (structured data)</a> and <a class="reference external" href="https://github.com/raymon-ai/demonstrators/blob/master/retinopathy/retinopathy/train.py#L67-L114">here (vision data)</a></p>
</div>
<div class="section" id="viewing-profiles">
<h2>Viewing profiles<a class="headerlink" href="#viewing-profiles" title="Permalink to this headline">¶</a></h2>
<p>As shown in the <a class="reference external" href="https://github.com/raymon-ai/raymon/blob/master/examples">examples</a>, raymon offers a simple UI for viewing model profiles and comparing a POI with the profile. The figure below show what that looks like, but the UI is interactive, so you should go try it out yourself!</p>
<div class="figure align-default">
<a class="with-shadow with-border reference internal image-reference" href="../_images/profileview.png"><img alt="Viewing a profile &amp; poi." class="with-shadow with-border" src="../_images/profileview.png" style="width: 800px;"/></a>
</div>
</div>
<div class="section" id="validating-data">
<h2>Validating data<a class="headerlink" href="#validating-data" title="Permalink to this headline">¶</a></h2>
<p>Validating inputs, outputs and actuals is done through calling , <a class="reference internal" href="../module/modelprofile.html#raymon.ModelProfile.validate_input" title="raymon.ModelProfile.validate_input"><code class="xref py py-meth docutils literal notranslate"><span class="pre">raymon.ModelProfile.validate_input()</span></code></a>, <a class="reference internal" href="../module/modelprofile.html#raymon.ModelProfile.validate_output" title="raymon.ModelProfile.validate_output"><code class="xref py py-meth docutils literal notranslate"><span class="pre">raymon.ModelProfile.validate_output()</span></code></a>, or <a class="reference internal" href="../module/modelprofile.html#raymon.ModelProfile.validate_actual" title="raymon.ModelProfile.validate_actual"><code class="xref py py-meth docutils literal notranslate"><span class="pre">raymon.ModelProfile.validate_actual()</span></code></a>. Validating evaluator components is done through <a class="reference internal" href="../module/modelprofile.html#raymon.ModelProfile.validate_eval" title="raymon.ModelProfile.validate_eval"><code class="xref py py-meth docutils literal notranslate"><span class="pre">raymon.ModelProfile.validate_eval()</span></code></a>. The model evaluation can also be done on the raymon backend, or through webhooks on the backend (see <a class="reference internal" href="orchestration.html#backend-configuration"><span class="std std-ref">Backend Configuration</span></a>).</p>
<div class="highlight-python notranslate"><div class="table-wrapper"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">req_id</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">metadata</span><span class="p">):</span>
    <span class="n">trace</span> <span class="o">=</span> <span class="n">Trace</span><span class="p">(</span><span class="n">logger</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">raymon</span><span class="p">,</span> <span class="n">trace_id</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">req_id</span><span class="p">))</span>

    <span class="c1"># validate data</span>
    <span class="n">input_tags</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">validate_input</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
    <span class="n">trace</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">input_tags</span><span class="p">)</span>
    <span class="c1"># ...</span>
    <span class="n">pred_arr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">pred</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">pred_arr</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">output_tags</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">validate_output</span><span class="p">(</span><span class="n">output</span><span class="o">=</span><span class="n">pred_arr</span><span class="p">)</span>
    <span class="n">trace</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">output_tags</span><span class="p">)</span>
</pre></div>
</td></tr></table></div></div>
<p>Further examples can be found on lines <a class="reference external" href="https://github.com/raymon-ai/demonstrators/blob/master/houseprices/houseprices/processing.py#L204">204</a>, <a class="reference external" href="https://github.com/raymon-ai/demonstrators/blob/master/houseprices/houseprices/processing.py#L219">219</a> and <a class="reference external" href="https://github.com/raymon-ai/demonstrators/blob/master/houseprices/houseprices/processing.py#L250">250</a>.</p>
</div>
<div class="section" id="contrasting-profiles">
<h2>Contrasting profiles<a class="headerlink" href="#contrasting-profiles" title="Permalink to this headline">¶</a></h2>
<p>As shown in the <a class="reference external" href="https://github.com/raymon-ai/raymon/blob/master/examples">examples</a>, Raymon also offers a simple UI to contrast 2 profiles. The figure below show how that looks like, but again, the report is interactive, so you should try it out yourself.</p>
<div class="figure align-default">
<a class="with-shadow with-border reference internal image-reference" href="../_images/profilecompare.png"><img alt="Comparing 2 profiles." class="with-shadow with-border" src="../_images/profilecompare.png" style="width: 800px;"/></a>
</div>
</div>
<div class="section" id="using-profile-to-configure-the-backend">
<h2>Using profile to configure the backend<a class="headerlink" href="#using-profile-to-configure-the-backend" title="Permalink to this headline">¶</a></h2>
<p>Building model profiles at model train time should be easy, and could be useful without using the rest of the Raymon system. However, when attaching the model profile to a certain project, the Raymon backend automatically configures it’s data health checking functionality and will generate alerts when data or model performance issues are discovered.</p>
<p>How to upload a model profile to the backend is already shown in <a class="reference internal" href="apisetup.html#uploading-a-model-profile"><span class="std std-ref">Uploading a model profile</span></a>, but is repeated below.</p>
<div class="highlight-python notranslate"><div class="table-wrapper"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">raymon</span> <span class="kn">import</span> <span class="n">ModelProfile</span>

<span class="n">profile</span> <span class="o">=</span> <span class="n">ModelProfile</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">"profile.json"</span><span class="p">)</span>
<span class="n">resp</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">profile_create</span><span class="p">(</span><span class="n">project_id</span><span class="o">=</span><span class="n">project_id</span><span class="p">,</span> <span class="n">profile</span><span class="o">=</span><span class="n">profile</span><span class="p">)</span>
<span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</pre></div>
</td></tr></table></div></div>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="slices.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Slices</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="logging_tracing.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Traces and Tags</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, Raymon BV
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="../_sources/gettingstarted/profiling.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Model &amp; Data Profiling</a><ul>
<li><a class="reference internal" href="#concepts-profiles-components-extractors-stats-and-reducers">Concepts: Profiles, Components, Extractors, Stats and Reducers</a><ul>
<li><a class="reference internal" href="#profile">Profile</a></li>
<li><a class="reference internal" href="#profile-components">Profile Components</a></li>
<li><a class="reference internal" href="#component-extractors">Component Extractors</a></li>
<li><a class="reference internal" href="#component-stats">Component Stats</a></li>
<li><a class="reference internal" href="#reducers">Reducers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#building-profiles">Building profiles</a></li>
<li><a class="reference internal" href="#viewing-profiles">Viewing profiles</a></li>
<li><a class="reference internal" href="#validating-data">Validating data</a></li>
<li><a class="reference internal" href="#contrasting-profiles">Contrasting profiles</a></li>
<li><a class="reference internal" href="#using-profile-to-configure-the-backend">Using profile to configure the backend</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></body>
</html>